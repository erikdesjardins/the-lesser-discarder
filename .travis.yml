language: node_js
node_js: 8
script:
  - npm run build
branches:
  only:
    - master
    - /^v[0-9]/
cache:
  yarn: true
env:
  global:
    # CHROME_CLIENT_ID
    - secure: qxlZbmvbD8Yo6H3mwss7sLdj5Bwy31UujebJAvPoYghX4u4uGKVQUVWc4KQJKmosJR/hbaz48A4zh+j49WFJ5KOm1pGWkFrNH+jV3BHScAy9I4v2vYih0rsEUR81CudS3DIw24IwEyvkBzjXdq3wTedQ50H7BoiAFyoEBuxZNm1SB63d+GJwtesneoKdRhobXF2Y6gBU5llflLOGOxlceSPWUWyW6cwjAo7WFo27mc9KGBGLKPzWCXrxgQXhFwKxcxQ5zqHFGGqaZUtj4uIcfeHCmy2bmEwwKOvXhTBP3sOKgDzmApBKfCAQs3p8kqUWD1QZPBHm38I8zH6U3QHIdQQfvRh8mDLoswWbuRcP8ngtJJFyMbjDyzls3o/mR1+q4qSI+Gl4TmwMZFAC8MSu4wAmDILLkAKyGA9pN4lmMKIiALz8rIuYjr3Gq3EWE3+K8CVJIuHBhVHdvIR1Uo0cXBVSSdWZSLy1bggSaher7K3VXu4j8BOt5zo6FowgrNcJLXOW6R6mpP/VLdJjwcOua7Y35iNsJyThZ7L0sCn+VwTNAg/b3EHbdOlE5+6jfc5SqsdnTDbY3mrrQuflIdpfU58YzUnrBWEOUvayQhFt9uxM/qO67Cz7XZ88YYmtTqsG/SoT6TYa9iPG60KuTevxJITMJt4aSIGaJmSO/VmU1AQ=
    # CHROME_CLIENT_SECRET
    - secure: RA/0FSy01NzWBKANUwxXtnhnGHL9rUgxvSFECdAlmuUz8andAoS2MoVWjApOdWcnz5f6+SZLvypd/Xw/rfZ7hBFTIXra2tsNYC8G0ADFv+2qfS2x5Fgy1evvdYMzIxbCNMop5WeEO39J53xg7ed9DrEqxZyOKO36VbY4dOVcFP2VC+Zm0yZ8Jg11GexOU2cyuCw14afmC8uJDl/DY5xW1bqFC3FIryDOUCpUFhlx0qMaYV5WA/U4pg6TtjxwYQzArGGz+Cwc6Eh81H83NY4cfTL9dxIgL5YEyG56QMxF5oGsVRPrNR6l/M3OSHt+f2GhBnUclRLi83zI5qr45w2dJgrJFXNsysoTN++lVtsJIlYmPRDxTAMMduis1w5kN9DuChUajFQndfAerA311nN+sNJWR1kHaElgW9kazUdLVWx3KC65LOnzcp6cwt0jNecE6em2ubIAf/1BeW5hH4PsQSBxxsRRXT71BJ8nABL8pAQDyFgeDtgiLClroSrW9scRuVd5ri95gGi0lz7P+d6HkuA/zI7eHDjhJSU1adsy1COtS5ycwDdj6PQjXdTLnrUId0tHWxCw4HlC0MfZNwvPLX1rEpWN/8laiRrNWEGRiy1/jTuGUdBbt+x6gNdy9lJYqOIf4uulyZtCskv9H+R/4CZvgjYB+jTsreJ2MORX9tk=
    # CHROME_REFRESH_TOKEN
    - secure: OLOb+trGTXhPxc3OrXMK+R9QmJRT7MYFd9Cp2jVugX1sJ8V54XX8TGguaJAKmn7E5XhKh24ZPUn5bBGr13jyEzBSNfYdmtlOZfJp0c9Kbltb3wj/r+Zyd/Wjjrxnrf+/GFgfDPoXIEf9Uv+EbQJNyc4qPtbtuQGt9179e4SWZ6DzvzDvaviVHy/YTnXk/2oInHzmBAKr3uuiX+3Hae0xKof5gmUamAQiyOfXu0YQ4mQgcMPmUzdHoI+z6mRcqHDTd9XRJWz9JK02pptyE47fe2l0g0ejJWs/j5HXBkXTsXEEn6ncuH6erbKIuOG+L/Lw9GVzPW5E8Bdw/mvQCEzDQRdOE4Vr6PAzvdz8oVjsMOZF1BCTUkU1QvXITXM3CUhqJ+dP4x0PoGMqYjuTUbCcjZjF5A70nEkK1fYAN/XgQcmfQVa4k1K0GtHn0E6o/tCViokKX88zzklGAjdVYHHc+KAyYLDQ61x09SjwoNvVK84X7mzHUktloFUcSQ4mLZ+64bMIC6ZExJOm/0W2JOOpThob7qpmVss2nlZaNPOZxPOC5DgFNPom/JZYcj1AS9Hc2x85EnzhKMooIYgtuC2LR2pp+7YE8ZQpvYNmJcbFIEIcKHPo9urEJY3Cv0pYgM7HDJbivYfME5rvH30wF8cI1uBBnuAq6x9XNh+Qi3nids4=
deploy:
  - provider: releases
    api_key:
      secure: onKtVCr2xIjhMdoZtZP+ay3i5cOZIE+xxUWpYLHr8h9yxIlZQ6+WA6WOjTEmGSWPRnvVWr9tnqcM3iHkrZclvaw2tlzYUO5r7j2zons12oH2wcqSON4fUkEiAgXRcvbdzYpCAdgtrFc02OcwNZmtU7hX+r16uUCV5/O2sfQtz1rBRaIBjxDMoy8Y5tgecoOX0Yai4Ey18zti8hsiuWcut9nA6uc6kBvMB78wQyYVhcgmS8n3V2ENyBYsciJVfpSLCIGZhagUyk/B5iy+a04K3gl/QPj+vRsASNgYDsCVnMC7ZLgCo1hKN6RuGmLA9u3EXGAxbu0CH/kETE8NL/wqQOpaefX6wW5fjxk1PIDusiXLCsK8jV/ZY8VJ0aFt4uKKjLnmS10jTsFmH05WPMmfD76jKjc3nSMmyLGzQBgqP9PyjorDXh6+yaL9nd7Z6cGe/H7NhNis1BR1zOsk1gdJ6rOx0ap++9bnf/3b72unBrkwZ3jfGQ5GWv8ZP7Anhs8lRySjlM69OKauW/EwF8I0ByIR7e3UH/HcxzWOT1rJbWva88srTBObzeP85BUnZyxRveCjF9q12YCM15Y31yI17gDXvaTvzgMIIPShSLPFv5XP9agFYaBTvA8ZI9A4ZIhMv6Uta8Yt2RLgXbhp1fxkePUU3prFBG0TFeamiUfzeXc=
    file: dist/TLD.zip
    skip_cleanup: true
    on:
      tags: true
  - provider: script
    script: node deploy.js
    skip_cleanup: true
    on:
      tags: true
